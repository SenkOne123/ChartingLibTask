(function(e){function t(t){for(var i,a,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)a=s[d],o[a]&&h.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={index:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/ChartingLibTask/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);var i=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TVChartContainer")},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"TVChartContainer",attrs:{id:e.container}})])},s=[],l=n("46ce"),c=n.n(l),u=n("bc3a"),d=n.n(u);const h={1:"1m",3:"3m",5:"5m",15:"15m",30:"30m",60:"1h",120:"2h",240:"4h",360:"6h",480:"8h",720:"12h",D:"1d","1D":"1d","3D":"3d",W:"1w","1W":"1w",M:"1M","1M":"1M"},p=()=>w("/time").then(e=>(console.log("Server time is "+new Date(e.serverTime)),new Date)),g=()=>w("/exchangeInfo").then(e=>e.symbols),m=({symbol:e,interval:t,from:n,to:i,limit:o})=>(t=h[t],n*=1e3,i*=1e3,w("/klines",{symbol:e.toUpperCase(),interval:t,startTime:n,endTime:i,limit:o}).then(e=>e.map(e=>({time:1e3*e.t,open:e.o,high:e.h,low:e.l,close:e.c,volume:0})))),f=({symbol:e,interval:t,uniqueID:n},i)=>(t=h[t],c.a.stream.kline({symbol:e,interval:t,uniqueID:n},e=>{const t=y(e.kline);i(t)})),v=e=>c.a.stream.close.kline({uniqueID:e}),b=e=>!!h[e];function y({openTime:e,open:t,high:n,low:i,close:o,volume:r}){return{time:e,open:t,high:n,low:i,close:o,volume:r}}function w(e,t={}){return d()({baseURL:"http://charting-lib-server.herokuapp.com/",method:"get",url:e,params:t}).then(e=>e.data).catch(e=>console.log(e))}const _={supports_marks:!1,supports_timescale_marks:!1,supports_time:!0,supported_resolutions:["1","3","5","15","30","60","120","240","1D","3D","1W","1M"]};let S=!1,C="",x=[],D=!1;var k={onReady:e=>{console.log("[onReady]: Method call"),setTimeout(()=>e(_))},searchSymbols:(e,t,n,i)=>{let o=[{symbol:"EURUSD",full_name:"EURUSD",description:"EUR to USD with using 1m candles",exchange:"EURUSD",ticker:"EURUSD",type:"stock"}];i(o)},resolveSymbol:(e,t,n)=>{console.log("[resolveSymbol]: Method call",e);const i=e.split(":");e=(i.length>1?i[1]:e).toUpperCase();const o=e=>({name:e.symbol,description:e.baseAsset+" / "+e.quoteAsset,ticker:e.symbol,session:"24x7",minmov:1,pricescale:1e5,timezone:"UTC",has_intraday:!0,has_daily:!0,has_weekly_and_monthly:!0,currency_code:e.quoteAsset});g().then(i=>{const r=i.find(t=>t.symbol==e);return r?t(o(r)):n("[resolveSymbol]: symbol not found")})},getBars:async(e,t,n,i,o)=>{if(console.log("[getBars] Method call",e,t),!b(t))return o("[getBars] Invalid interval");new Date(0);let r=await m({symbol:e.name,interval:t,from:new Date(0),to:Date.now(),limit:1e3});x=r.slice(800,r.length);const a=r.slice(0,799);console.log(a),C===t?(S=!0,C=t):(S=!1,C=t),r.length>0&&!S&&i(a),o("Klines data error")},subscribeBars:(e,t,n,i,o)=>{if(console.log("[subscribeBars]: Method call with subscribeUID:",i),D)for(let r=0;r<x.length;r++)setTimeout((function(){n(x[r])}),1e3*r);f({symbol:e.name,interval:t,uniqueID:i},e=>{})},unsubscribeBars:e=>{console.log("[unsubscribeBars]: Method call with subscriberUID:",e),v(e)},getServerTime:e=>{p().then(t=>{e(Math.floor(t/1e3))}).catch(e=>{console.error(e)})}},L={name:"TVChartContainer",props:{symbol:{default:"AAPL",type:String},interval:{default:"D",type:String},container:{default:"tv_chart_container",type:String},datafeedUrl:{default:"https://demo_feed.tradingview.com",type:String},libraryPath:{default:"/charting_library/charting_library/",type:String},chartsStorageUrl:{default:"https://saveload.tradingview.com",type:String},chartsStorageApiVersion:{default:"1.2",type:String},clientId:{default:"tradingview.com",type:String},userId:{default:"public_user_id",type:String},fullscreen:{default:!1,type:Boolean},autosize:{default:!0,type:Boolean},studiesOverrides:{type:Object}},tvWidget:null,widgets:null,savedChart:null,methods:{handlePlayButtonClick(){this.widgets.onChartReady(()=>{this.widgets.activeChart().createMultipointShape([{time:1637192940},{time:1637193840}],{shape:"long_position",overrides:{profitLevel:20,stopLevel:20}})})}},mounted(){const e={symbol:"EURUSD",datafeed:k,interval:"1",container:"tv_chart_container",library_path:"/charting_library/charting_library/",locale:"en",disabled_features:["use_localstorage_for_settings"],fullscreen:!1,autosize:!0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone};this.tvWidget=new TradingView.widget(e),this.widgets=new TradingView.widget(e);this.widgets.onChartReady(()=>{this.widgets.headerReady().then(()=>{let e=this.widgets.createButton(),t=this.widgets.createButton(),n=this.widgets.createButton(),i=this.widgets.createButton(),o=this.widgets.createButton(),r=this.widgets.createButton(),a=this.widgets.createButton(),s=this.widgets.createButton(),l=this.widgets.createButton();e.textContent="Play",t.textContent="Long Pos",n.textContent="Short Pos",i.textContent="Icon Up",o.textContent="Icon Down",r.textContent="Text",a.textContent="Line",s.textContent="Save",l.textContent="Load",t.addEventListener("click",()=>{this.widgets.activeChart().createMultipointShape([{time:1637210940},{time:1637212740}],{shape:"long_position",overrides:{profitLevel:20,stopLevel:20}})}),n.addEventListener("click",()=>{this.widgets.activeChart().createMultipointShape([{time:1637210940},{time:1637212740}],{shape:"short_position",overrides:{profitLevel:20,stopLevel:20}})}),o.addEventListener("click",()=>{this.widgets.activeChart().createShape({time:1637207940,price:1.13286},{shape:"arrow_down"})}),i.addEventListener("click",()=>{this.widgets.activeChart().createShape({time:1637201100,price:1.13313},{shape:"arrow_up"})}),a.addEventListener("click",()=>{this.widgets.activeChart().createMultipointShape([{time:1637206140,price:1.13287},{time:1637207340,price:1.13309}],{shape:"trend_line",overrides:{profitLevel:20,stopLevel:20}})}),r.addEventListener("click",()=>{this.widgets.activeChart().createShape({time:1637203020,price:1.1326},{shape:"text",overrides:{showLabel:!0,textSize:16},text:"Sample Text"})}),s.addEventListener("click",()=>{this.tvWidget.save(e=>{this.savedChart=e}),localStorage.setItem("widgets",JSON.stringify(this.savedChart))}),l.addEventListener("click",()=>{this.widgets.load(JSON.parse(localStorage.getItem("widgets")))})}),this.widgets.subscribe("drawing_event",(e,t)=>{console.log(e,t)})}),this.tvWidget.onChartReady(()=>{})},destroyed(){null!==this.tvWidget&&(this.tvWidget.remove(),this.tvWidget=null)}},T=L,U=(n("e39b"),n("2877")),B=Object(U["a"])(T,a,s,!1,null,null,null),M=B.exports,E={name:"app",components:{TVChartContainer:M}},O=E,I=Object(U["a"])(O,o,r,!1,null,null,null),R=I.exports;n("db43");i["a"].config.productionTip=!1,new i["a"]({render:e=>e(R)}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){},a1f8:function(e,t,n){},db43:function(e,t,n){},e39b:function(e,t,n){"use strict";n("a1f8")}});
//# sourceMappingURL=index.js.map